local AngelZ = require(game:GetService("ReplicatedStorage").Effect.Container.Angel.Z)
local AngelZCharge = require(game:GetService("ReplicatedStorage").Effect.Container.Angel.ZCharge)
local AngelZTeleport = game:GetService("ReplicatedStorage").Effect.Container.Angel.ZTeleport
local Utils = require(game.ReplicatedStorage.Util)
local plr = game.Players.LocalPlayer

local char = plr.Character

local target = game.Players[nearplayer].Character -- mục tiêu bị xích

local tool = Instance.new("Tool", plr.Backpack)
tool.Name = "Z"
tool.RequiresHandle = false

tool.Activated:Connect(function()
    spawn(function()
        AngelZ({
            hrp = char.PrimaryPart,
            player = plr,
            origin = char.PrimaryPart.Position,
            targetPos = target.PrimaryPart.Position,
            victimRoot = target.PrimaryPart
        })
    end)
end)
local centerPosition = Vector3.new(0, 0, 0)
local proximityRadius = 10
local plr = game:GetService("Players"):GetPlayers()
for _, player in ipairs(plr) do
    local character = player.Character
    if character then
        local playerPos = character.PrimaryPart.Position
        local distance = (playerPos - centerPosition).magnitude
        if distance <= proximityRadius then
            local nearplayer = player.Name
        end
    end
end
