_G.ConitMathDistance = 29
_G.AutoKill = true
_G.SpectBall = true
_G.AutoParry = true
_G.AutoVote = true
_G.BallESP = true
_G.ESPPlayer = true
-- Code
function UseCode(Text)
    local args = {
        [1] = Text
    }
    game:GetService("ReplicatedStorage"):WaitForChild("Remotes"):WaitForChild("SubmitCodeRequest"):InvokeServer(unpack(args))
end
UseCode("UPDATE.DAY")
UseCode("1.5BTHANKS")
-- Auto Vote
spawn(function()
    pcall(function()
        while wait(0.1) do
            if _G.AutoVote then
                if game:GetService("Players").LocalPlayer.PlayerGui.voter.Enabled == true then
                    modeName = "ffa"
                    local args = {
                        [1] = modeName
                    }
                    game:GetService("ReplicatedStorage"):WaitForChild("Remotes"):WaitForChild("UpdateVotes"):FireServer(unpack(args))
                end
            end
        end
    end)
end)
-- ESP
function isnil(thing)
    return (thing == nil)
end
local function round(n)
    return math.floor(tonumber(n) + 0.5)
end
Number = math.random(1, 1000000)
function UpdatePlayerChams()
    for i,v in pairs(game:GetService'Players':GetChildren()) do
        pcall(function()
            if not isnil(v.Character) then
                if _G.ESPPlayer then
                    if not isnil(v.Character.Head) and not v.Character.Head:FindFirstChild('NameEsp'..Number) then
                        local bill = Instance.new('BillboardGui',v.Character.Head)
                        bill.Name = 'NameEsp'..Number
                        bill.ExtentsOffset = Vector3.new(0, 1, 0)
                        bill.Size = UDim2.new(1,200,1,30)
                        bill.Adornee = v.Character.Head
                        bill.AlwaysOnTop = true
                        local name = Instance.new('TextLabel',bill)
                        name.Font = Enum.Font.GothamSemibold
                        name.FontSize = "Size14"
                        name.TextWrapped = true
                        name.Text = (v.Name ..' \n'.. round((game:GetService('Players').LocalPlayer.Character.Head.Position - v.Character.Head.Position).Magnitude/3) ..' M')
                        name.Size = UDim2.new(1,0,1,0)
                        name.TextYAlignment = 'Top'
                        name.BackgroundTransparency = 1
                        name.TextStrokeTransparency = 0.5
                        name.TextColor3 = Color3.new(255,255,255)
                    else
                        v.Character.Head['NameEsp'..Number].TextLabel.Text = (v.Name ..' | '.. round((game:GetService('Players').LocalPlayer.Character.Head.Position - v.Character.Head.Position).Magnitude/3) ..' M\nHealth : ' .. round(v.Character.Humanoid.Health*100/v.Character.Humanoid.MaxHealth) .. '%')
                    end
                else
                    if v.Character.Head:FindFirstChild('NameEsp'..Number) then
                        v.Character.Head:FindFirstChild('NameEsp'..Number):Destroy()
                    end
                end
            end
        end)
    end
end
function UpdateBallChams() 
    for i,v in pairs(game:GetService("Workspace").Balls:GetChildren()) do
        pcall(function()
            if v.ClassName == "Part" then
                if _G.BallESP then 
                    if not v:FindFirstChild('NameEsp'..Number) then
                        local bill = Instance.new('BillboardGui',v)
                        bill.Name = 'NameEsp'..Number
                        bill.ExtentsOffset = Vector3.new(0, 1, 0)
                        bill.Size = UDim2.new(1,200,1,30)
                        bill.Adornee = v
                        bill.AlwaysOnTop = true
                        local name = Instance.new('TextLabel',bill)
                        name.Font = Enum.Font.GothamSemibold
                        name.FontSize = "Size14"
                        name.TextWrapped = true
                        name.Size = UDim2.new(1,0,1,0)
                        name.TextYAlignment = 'Top'
                        name.BackgroundTransparency = 1
                        name.TextStrokeTransparency = 0.5
                        name.TextColor3 = Color3.fromRGB(82, 53, 254)
                        name.Text = (' \n'.. round((game:GetService('Players').LocalPlayer.Character.Head.Position - v.Position).Magnitude/3) ..' M')
                        name.TextColor3 = Color3.fromRGB(255, 0, 0)
                    else
                        v['NameEsp'..Number].TextLabel.Text = ('   \n'.. round((game:GetService('Players').LocalPlayer.Character.Head.Position - v.Position).Magnitude/3) ..' M')
                    end
                else
                    if v:FindFirstChild('NameEsp'..Number) then
                    v:FindFirstChild('NameEsp'..Number):Destroy()
                    end
                end
            end   
        end)
    end
end
UpdateBallChams()
UpdatePlayerChams()
spawn(function()
    pcall(function()
        while wait() do
            if _G.ESPPlayer then
                UpdatePlayerChams()
            end
        end
    end)
end)
spawn(function()
    pcall(function()
        while wait() do
            if _G.BallESP then
                UpdateBallChams()
            end
        end
    end)
end)
-- Auto Farm
local LocalPlayer = game:GetService("Players").LocalPlayer
game:GetService("Workspace").Balls.ChildAdded:Connect(function(child)
    local trackTask = task.spawn(function()
        while wait() do
            local ball = child
            local pos = ball.Position
            wait(0.01)
            local ballspeedIs = (ball.Position - pos).magnitude
            local blockDistanceAuto = ballspeedIs * 2 + _G.ConitMathDistance
            _G.DistanceBeforeParry = blockDistanceAuto
        end
    end)
    child.Destroying:Connect(function()
    	print('Respawn Ball')
        task.cancel(trackTask)
    end)
end)
game:GetService("Workspace").Balls.ChildAdded:Connect(function(child)
    local trackTask = task.spawn(function()
        local ball = child
        while task.wait() do
            if _G.AutoParry then
                if string.find(ball.BrickColor.Name:lower(), "red") then
                    while LocalPlayer:DistanceFromCharacter(ball.CFrame.Position) > _G.DistanceBeforeParry do
                        task.wait()
                    end
                    local ReplicatedStorage = game:GetService("ReplicatedStorage")
                    ReplicatedStorage.Remotes.ParryButtonPress:Fire()
                end
            end
        end
    end)
    child.Destroying:Connect(function()
        task.cancel(trackTask)
    end)
end)
game:GetService("Workspace").Balls.ChildAdded:Connect(function(child)
    local trackTask = task.spawn(function()
        local ball = child
        while task.wait() do
            if _G.SpectBall then
                local camera = game.workspace.CurrentCamera
                camera.CameraSubject = ball
            else
                local camera = game.workspace.CurrentCamera
                camera.CameraSubject = game.Players.LocalPlayer.Character.HumanoidRootPart
            end
        end
    end)
    child.Destroying:Connect(function()
        task.cancel(trackTask)
    end)
end)
game:GetService("Workspace").Balls.ChildAdded:Connect(function(child)
    local trackTask = task.spawn(function()
        local ball = child
        while task.wait() do
            if _G.AutoKill then
                local posRandom = math.random(-20,20)
                local posRandom2 = math.random(-20,20)
                local posRandom3 = math.random(-20,20)
                game:GetService("Players").LocalPlayer.Character.HumanoidRootPart.CFrame = ball.CFrame * CFrame.new(posRandom, posRandom2, posRandom3)
            end
        end
    end)
    child.Destroying:Connect(function()
        task.cancel(trackTask)
    end)
end)
game:GetService("Workspace").Balls.ChildAdded:Connect(function(child)
    local trackTask = task.spawn(function()
        local ball = child
        while task.wait() do
            if _G.AutoKill then
                if game:GetService("Players").LocalPlayer.Character:FindFirstChild("Highlight") then
                    game:GetService("Players").LocalPlayer.Character.HumanoidRootPart.CFrame = ball.CFrame * CFrame.new(0, 0, (ball.Velocity).Magnitude * -0.5)
                end
            end
        end
    end)
    child.Destroying:Connect(function()
        task.cancel(trackTask)
    end)
end)
spawn(function()
    pcall(function()
        local vu = game:GetService("VirtualUser")
        game:GetService("Players").LocalPlayer.Idled:connect(function()
            vu:Button2Down(Vector2.new(0,0),workspace.CurrentCamera.CFrame)
            wait(1)
            vu:Button2Up(Vector2.new(0,0),workspace.CurrentCamera.CFrame)
        end)
    end)
end)
